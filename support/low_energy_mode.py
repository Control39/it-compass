import time
import sys
from typing import Dict, Any, List

class LowEnergyMode:
    """–°–ø–µ—Ü–∏–∞–ª—å–Ω—ã–π —Ä–µ–∂–∏–º –¥–ª—è —Ä–∞–±–æ—Ç—ã –≤ —Å–æ—Å—Ç–æ—è–Ω–∏–∏ –Ω–∏–∑–∫–æ–π —ç–Ω–µ—Ä–≥–∏–∏"""
    
    def __init__(self):
        self.enabled = False
        self.last_interaction = time.time()
        self.simple_menu = [
            "1. –ü–æ—Å–º–æ—Ç—Ä–µ—Ç—å –ø—Ä–æ–≥—Ä–µ—Å—Å",
            "2. –ü—Ä–æ—Å—Ç–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ",
            "3. –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω–∞—è —Ü–∏—Ç–∞—Ç–∞",
            "4. –í—ã—Ö–æ–¥ –∏–∑ —Ä–µ–∂–∏–º–∞"
        ]
        self.exercises = [
            {
                "name": "–î—ã—Ö–∞–Ω–∏–µ 4-7-8",
                "description": "–í–¥–æ—Ö –Ω–∞ 4 —Å—á–µ—Ç–∞, –∑–∞–¥–µ—Ä–∂–∫–∞ –Ω–∞ 7, –≤—ã–¥–æ—Ö –Ω–∞ 8",
                "duration": "2 –º–∏–Ω—É—Ç—ã"
            },
            {
                "name": "–†–∞—Å—Ç—è–∂–∫–∞ —à–µ–∏",
                "description": "–ú–µ–¥–ª–µ–Ω–Ω—ã–µ –ø–æ–≤–æ—Ä–æ—Ç—ã –≥–æ–ª–æ–≤—ã –≤ —Å—Ç–æ—Ä–æ–Ω—ã",
                "duration": "1 –º–∏–Ω—É—Ç–∞"
            },
            {
                "name": "–í–∑–≥–ª—è–¥ –≤ –æ–∫–Ω–æ",
                "description": "2 –º–∏–Ω—É—Ç—ã —Å–º–æ—Ç—Ä–∏—Ç–µ –≤–¥–∞–ª—å, —Ä–∞—Å—Å–ª–∞–±–ª—è—è –≥–ª–∞–∑–∞",
                "duration": "2 –º–∏–Ω—É—Ç—ã"
            }
        ]
    
    def activate(self):
        """–ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∂–∏–º –Ω–∏–∑–∫–æ–π —ç–Ω–µ—Ä–≥–∏–∏"""
        self.enabled = True
        self.last_interaction = time.time()
        print("\n" + "="*50)
        print("üò¥ –†–ï–ñ–ò–ú '–ù–ò–ó–ö–û–ô –≠–ù–ï–†–ì–ò–ò' –ê–ö–¢–ò–í–ò–†–û–í–ê–ù")
        print("="*50)
        print("–í —ç—Ç–æ–º —Ä–µ–∂–∏–º–µ –¥–æ—Å—Ç—É–ø–Ω—ã —Ç–æ–ª—å–∫–æ –±–∞–∑–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:")
        print("‚úÖ –ü—Ä–æ—Å—Ç—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è —ç–Ω–µ—Ä–≥–∏–∏")
        print("‚úÖ –ú–æ—Ç–∏–≤–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ü–∏—Ç–∞—Ç—ã")
        print("‚úÖ –ü—Ä–æ—Å–º–æ—Ç—Ä —Ç–µ–∫—É—â–µ–≥–æ –ø—Ä–æ–≥—Ä–µ—Å—Å–∞")
        print("üö´ –°–ª–æ–∂–Ω—ã–µ –∞–Ω–∞–ª–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏")
        print("üö´ –ù–∞—Å—Ç—Ä–æ–π–∫–∏ –∏ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è")
        print("üö´ –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –≤–Ω–µ—à–Ω–∏–º–∏ —Å–µ—Ä–≤–∏—Å–∞–º–∏")
        print("\nüí° –°–æ–≤–µ—Ç: –≠—Ç–æ—Ç —Ä–µ–∂–∏–º –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —Å–∏–ª—ã –∏ —Å–æ—Å—Ä–µ–¥–æ—Ç–æ—á–∏—Ç—å—Å—è –Ω–∞ —Å–∞–º–æ–º –≤–∞–∂–Ω–æ–º.")
        print("–ù–∞–∂–º–∏—Ç–µ Enter, —á—Ç–æ–±—ã –ø–µ—Ä–µ–π—Ç–∏ –∫ —É–ø—Ä–æ—â—ë–Ω–Ω–æ–º—É –º–µ–Ω—é...")
        input()
    
    def is_active(self) -> bool:
        """–ü—Ä–æ–≤–µ—Ä–∏—Ç—å, –∞–∫—Ç–∏–≤–µ–Ω –ª–∏ —Ä–µ–∂–∏–º –Ω–∏–∑–∫–æ–π —ç–Ω–µ—Ä–≥–∏–∏"""
        # –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ—Ç–∫–ª—é—á–µ–Ω–∏–µ —á–µ—Ä–µ–∑ 2 —á–∞—Å–∞ –Ω–µ–∞–∫—Ç–∏–≤–Ω–æ—Å—Ç–∏
        if self.enabled and (time.time() - self.last_interaction > 7200):
            self.deactivate()
        return self.enabled
    
    def deactivate(self):
        """–î–µ–∞–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∂–∏–º –Ω–∏–∑–∫–æ–π —ç–Ω–µ—Ä–≥–∏–∏"""
        if self.enabled:
            print("\n" + "="*50)
            print("‚ö° –†–ï–ñ–ò–ú '–ù–ò–ó–ö–û–ô –≠–ù–ï–†–ì–ò–ò' –î–ï–ê–ö–¢–ò–í–ò–†–û–í–ê–ù")
            print("="*50)
            print("–í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –ø–æ–ª–Ω–æ–º –æ–±—ä—ë–º–µ")
            print("="*50)
            self.enabled = False
    
    def show_simple_menu(self) -> str:
        """–ü–æ–∫–∞–∑–∞—Ç—å —É–ø—Ä–æ—â—ë–Ω–Ω–æ–µ –º–µ–Ω—é"""
        self.last_interaction = time.time()
        
        print("\n" + "="*40)
        print("üò¥ –†–ï–ñ–ò–ú –ù–ò–ó–ö–û–ô –≠–ù–ï–†–ì–ò–ò")
        print("="*40)
        
        for item in self.simple_menu:
            print(item)
        
        print("="*40)
        return input("\n–í—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é (1-4): ")
    
    def show_progress(self):
        """–ü–æ–∫–∞–∑–∞—Ç—å —É–ø—Ä–æ—â—ë–Ω–Ω—ã–π –ø—Ä–æ–≥—Ä–µ—Å—Å"""
        print("\n" + "="*40)
        print("üìä –í–ê–® –¢–ï–ö–£–©–ò–ô –ü–†–û–ì–†–ï–°–°")
        print("="*40)
        print("‚úÖ –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–ø–µ—Ç–µ–Ω—Ü–∏–∏: 2 –∏–∑ 17")
        print("‚úÖ –ü—Ä–æ–≥—Ä–µ—Å—Å –æ–±—É—á–µ–Ω–∏—è: 12%")
        print("‚úÖ –ü–æ—Å–ª–µ–¥–Ω–µ–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏–µ: '–ó–∞–ø—É—Å–∫ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è'")
        print("\nüí° –°–æ–≤–µ—Ç: –°–µ–≥–æ–¥–Ω—è –æ—Ç–ª–∏—á–Ω–æ –ø–æ–¥–æ–π–¥—É—Ç –ø—Ä–æ—Å—Ç—ã–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏—è –¥–ª—è –ø–æ–¥–¥–µ—Ä–∂–∞–Ω–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞")
        print("="*40)
        input("\n–ù–∞–∂–º–∏—Ç–µ Enter, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å...")
    
    def show_simple_exercise(self):
        """–ü–æ–∫–∞–∑–∞—Ç—å –ø—Ä–æ—Å—Ç–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ"""
        exercise = self.exercises[0]  # –ë–µ—Ä—ë–º –ø–µ—Ä–≤–æ–µ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ
        
        print("\n" + "="*40)
        print("üßò –ü–†–û–°–¢–û–ï –£–ü–†–ê–ñ–ù–ï–ù–ò–ï")
        print("="*40)
        print(f"üéØ {exercise['name']}")
        print(f"üìù {exercise['description']}")
        print(f"‚è±Ô∏è {exercise['duration']}")
        print("\nüí° –≠—Ç–æ —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –ø–æ–º–æ–∂–µ—Ç –≤–∞–º –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–∏—Ç—å —ç–Ω–µ—Ä–≥–∏—é –∏ —Å–Ω–∏–∑–∏—Ç—å —É—Ä–æ–≤–µ–Ω—å —Å—Ç—Ä–µ—Å—Å–∞")
        print("="*40)
        input("\n–ù–∞–∂–º–∏—Ç–µ Enter, –∫–æ–≥–¥–∞ –±—É–¥–µ—Ç–µ –≥–æ—Ç–æ–≤—ã –≤—ã–ø–æ–ª–Ω–∏—Ç—å —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ...")
        
        print("\n‚è≥ –í—ã–ø–æ–ª–Ω—è–µ–º —É–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ...")
        time.sleep(3)
        print("‚úÖ –£–ø—Ä–∞–∂–Ω–µ–Ω–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–æ! –ö–∞–∫ –≤—ã —Å–µ–±—è —á—É–≤—Å—Ç–≤—É–µ—Ç–µ?")
        input("\n–ù–∞–∂–º–∏—Ç–µ Enter, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å...")
    
    def run(self):
        """–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–µ–∂–∏–º –Ω–∏–∑–∫–æ–π —ç–Ω–µ—Ä–≥–∏–∏"""
        while self.is_active():
            choice = self.show_simple_menu()
            
            if choice == '1':
                self.show_progress()
            
            elif choice == '2':
                self.show_simple_exercise()
            
            elif choice == '3':
                # –ó–¥–µ—Å—å –º–æ–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç –∏–∑ mental_support.py
                try:
                    from core.mental_support import show_random_quote_on_startup
                    show_random_quote_on_startup()
                    input("\n–ù–∞–∂–º–∏—Ç–µ Enter, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å...")
                except:
                    print("\nüí° –ü–æ–º–Ω–∏—Ç–µ: –º–∞–ª–µ–Ω—å–∫–∏–µ —à–∞–≥–∏ –ø—Ä–∏–≤–æ–¥—è—Ç –∫ –±–æ–ª—å—à–∏–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º")
                    input("\n–ù–∞–∂–º–∏—Ç–µ Enter, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å...")
            
            elif choice == '4':
                self.deactivate()
                break
            
            else:
                print("‚ùå –ù–µ–≤–µ—Ä–Ω—ã–π –≤—ã–±–æ—Ä. –ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –≤—ã–±–µ—Ä–∏—Ç–µ –æ–ø—Ü–∏—é –æ—Ç 1 –¥–æ 4.")
                input("\n–ù–∞–∂–º–∏—Ç–µ Enter, —á—Ç–æ–±—ã –ø—Ä–æ–¥–æ–ª–∂–∏—Ç—å...")

# –§—É–Ω–∫—Ü–∏—è –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ –≤ –æ—Å–Ω–æ–≤–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
def get_low_energy_mode():
    """–ü–æ–ª—É—á–∏—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä —Ä–µ–∂–∏–º–∞ –Ω–∏–∑–∫–æ–π —ç–Ω–µ—Ä–≥–∏–∏"""
    return LowEnergyMode()

if __name__ == "__main__":
    # –î–µ–º–æ–Ω—Å—Ç—Ä–∞—Ü–∏—è —Ä–∞–±–æ—Ç—ã —Ä–µ–∂–∏–º–∞
    mode = LowEnergyMode()
    mode.activate()
    mode.run()